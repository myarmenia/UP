!function(t){"use strict";function i(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}var e={width:t.innerWidth,height:t.innerHeight};function a(t,e){this.DOM={},this.DOM.el=t,this.options=i({},this.options),i(this.options,e),this._init()}a.prototype.options={movable:"all",layout:"vertical",animeduration:1300,animeeasing:"easeOutExpo",animedelay:0,onOpenTab:function(t,i){return!1},onCloseTab:function(t,i){return!1},onOpenBarsUpdate:function(t,i,e){return!1}},a.prototype._init=function(){this.DOM.tabs=[].slice.call(this.DOM.el.querySelectorAll(".tabsnav__item")),this.DOM.bars=[].slice.call(this.DOM.el.querySelectorAll(".tabsnav__bar")),this.totalTabs=this.DOM.tabs.length,this.extraEl=document.querySelector(this.options.extramovable),this._initEvents()},a.prototype._initEvents=function(){var i,e,a,s,n=this;this._openTabFn=function(t){n.isOpen||n._openTab(t.target)},this.DOM.tabs.forEach((function(t){t.addEventListener("click",n._openTabFn)})),this.debounceResizeFn=(i=function(){n._resize()},e=10,function(){var t=this,n=arguments,o=function(){s=null,a||i.apply(t,n)},r=a&&!s;clearTimeout(s),s=setTimeout(o,e),r&&i.apply(t,n)}),t.addEventListener("resize",this.debounceResizeFn),enquire.register("screen and (min-width:0) and (max-width:767px)",{match:function(){n.isOpen||n.isVisible||n.DOM.el.classList.add("tabsnav--hidden")}}),enquire.register("screen and (min-width:767px)",{match:function(){n.DOM.el.classList.contains("tabsnav--hidden-default")||n.DOM.el.classList.remove("tabsnav--hidden")}})},a.prototype._openTab=function(i){if(this.isAnimating)return!1;this.isAnimating=!0,this.current=this.DOM.tabs.indexOf(i);var a=i.getBoundingClientRect(),s={left:a.left,top:a.top,width:a.width,height:a.height},n=this;t.matchMedia("(min-width: 1920px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-110:s.top,win:"vertical"===this.options.layout?e.width:e.height}),t.matchMedia("(max-width: 1920px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-110:s.top,win:"vertical"===this.options.layout?e.width:e.height}),t.matchMedia("(max-width: 1620px)").matches&&t.matchMedia("(min-width: 1500px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-20:s.top,win:"vertical"===this.options.layout?e.width:e.height}),t.matchMedia("(max-width: 1280px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-66:s.top,win:"vertical"===this.options.layout?e.width:e.height}),t.matchMedia("(max-width: 1100px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-20:s.top,win:"vertical"===this.options.layout?e.width:e.height}),t.matchMedia("(max-width: 991px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-40:s.top,win:"vertical"===this.options.layout?e.width:e.height}),t.matchMedia("(max-width: 767px)").matches&&(this.dim={measure:"vertical"===this.options.layout?s.width:s.height,position:"vertical"===this.options.layout?s.left-20:s.top,win:"vertical"===this.options.layout?e.width:e.height}),this.DOM.bars.forEach((function(t){t.style.transformOrigin="vertical"===n.options.layout?"0% 50%":"50% 0%"})),this.DOM.tabs.forEach((function(t,i){t.style.zIndex=i===n.current?100:1}));var o={targets:"all"===this.options.movable?this.DOM.tabs:this.DOM.tabs[this.current]},r={targets:"all"===this.options.movable?this.DOM.bars:this.DOM.bars[this.current]};if(o.duration=r.duration=this.options.animeduration,o.easing=r.easing=this.options.animeeasing,o.delay=r.delay=function(t,i,e){if(1===e||0===n.options.animedelay)return 0;var a=e+1,s=Math.floor(a/2);return n.current>=s?i<=n.current?i*n.options.animedelay:(a-i-1)*n.options.animedelay:i<n.current?i*n.options.animedelay:(a-i-1)*n.options.animedelay},o["vertical"===this.options.layout?"translateX":"translateY"]=function(t,i,e){if(i===n.current||1===e)return-1*n.dim.position;return i>n.current?n.dim.win-(n.dim.position+n.dim.measure)-1:-1*n.dim.position+1},r["vertical"===this.options.layout?"scaleX":"scaleY"]=function(t,i,e){return i===n.current||1===e?n.dim.win/n.dim.measure:1},o.complete=function(){n.isAnimating=!1,n.isOpen=!0,n.options.onOpenTab(n.current,i)},r.update=function(t){n.options.onOpenBarsUpdate(t,n.current,i)},anime(o),anime(r),this.extraEl){var l={targets:this.extraEl,duration:this.options.animeduration,easing:this.options.animeeasing,delay:0},h=this.extraEl.getBoundingClientRect(),c="vertical"===this.options.layout?this.dim.win-(this.dim.position+this.dim.measure)+Math.abs(h.left-this.dim.position)+this.dim.measure:-1*this.dim.position;l["vertical"===this.options.layout?"translateX":"translateY"]=c,anime(l)}},a.prototype._closeTab=function(t){if(this.isAnimating)return!1;this.isAnimating=!0;var i=this,e={targets:"all"===this.options.movable?this.DOM.tabs:this.DOM.tabs[this.current]},a={targets:"all"===this.options.movable?this.DOM.bars:this.DOM.bars[this.current]};if(e.duration=a.duration=this.options.animeduration,e.easing=a.easing=this.options.animeeasing,e.delay=a.delay=function(t,e,a){return 1===a||0===i.options.animedelay?0:Math.abs(i.current-e)*i.options.animedelay},e["vertical"===this.options.layout?"translateX":"translateY"]=0,a["vertical"===this.options.layout?"scaleX":"scaleY"]=1,e.complete=function(){t.style.zIndex=1,i.isAnimating=!1,i.isOpen=!1,i.options.onCloseTab(i.current,t)},anime(e),anime(a),this.extraEl){var s={targets:this.extraEl,duration:this.options.animeduration,easing:this.options.animeeasing,delay:Math.abs(this.current-this.totalTabs)*this.options.animedelay};s["vertical"===this.options.layout?"translateX":"translateY"]=0,anime(s)}},a.prototype.close=function(t){this._closeTab(t||this.DOM.tabs[this.current])},a.prototype.show=function(t){var i=this;this.isVisible=!0,this.DOM.tabs.forEach((function(t){var e=t.querySelector(".tabsnav__bar"),a=t.querySelector(".tabsnav__title");e.style.transformOrigin="50% 50%",e.style.transform="vertical"===i.options.layout?"scaleX(0)":"scaleY(0)",a.style.opacity=0,a.style.transform="vertical"===i.options.layout?"translateX(10) rotate(-90)":"translateY(10)"})),this.DOM.el.classList.remove("tabsnav--hidden"),anime.remove(this.DOM.bars);var e={targets:this.DOM.bars,duration:500,delay:function(t,i){return 50*i},easing:"easeOutExpo",complete:function(){"function"==typeof t&&t.call()}};e["vertical"===this.options.layout?"scaleX":"scaleY"]=[0,1],anime(e);var a=this.DOM.el.querySelectorAll(".tabsnav__title");anime.remove(a);var s={targets:a,duration:500,delay:function(t,i){return 50*i},easing:"easeOutExpo",opacity:[0,1]};s["vertical"===this.options.layout?"translateX":"translateY"]=[10,0],s.rotate="vertical"===i.options.layout?[-90,-90]:0,anime(s)},a.prototype.hide=function(t){var i=this;this.isVisible=!1,this.DOM.bars.forEach((function(t){t.style.transformOrigin="50% 50%"})),anime.remove(this.DOM.bars);var e={targets:this.DOM.bars,duration:500,easing:"easeOutExpo",delay:function(t,i,e){return 50*(e-i-1)},complete:function(){i.DOM.el.classList.add("tabsnav--hidden"),i.DOM.tabs.forEach((function(t){var e=t.querySelector(".tabsnav__bar"),a=t.querySelector(".tabsnav__title");e.style.transform="vertical"===i.options.layout?"scaleX(1)":"scaleY(1)",a.style.opacity=1,a.style.transform="vertical"===i.options.layout?"translateX(0) rotate(-90)":"translateY(0)"})),"function"==typeof t&&t.call()}};e["vertical"===this.options.layout?"scaleX":"scaleY"]=[1,0],anime(e);var a=this.DOM.el.querySelectorAll(".tabsnav__title");anime.remove(a),anime({targets:a,duration:100,delay:function(t,i,e){return 50*(e-i-1)},easing:"linear",opacity:[1,0]})},a.prototype.toggleVisibility=function(){if(this.isAnimating)return!1;this.isAnimating=!0;var t=this,i=function(){t.isAnimating=!1};return this.isVisible?(this.hide(i),0):(this.show(i),1)},a.prototype._resize=function(){var i=this;if(e={width:t.innerWidth,height:t.innerHeight},this.isOpen){this.dim.win="vertical"===this.options.layout?e.width:e.height;this.DOM.tabs[this.current];var a="vertical"===this.options.layout?"translateX":"translateY",s="vertical"===this.options.layout?"scaleX":"scaleY";this.DOM.tabs.forEach((function(t,e){if("all"===i.options.movable||"single"===i.options.movable&&e===i.current){var n,o,r=i.DOM.bars[e];e===i.current?(n=-1*i.dim.position,o=i.dim.win/i.dim.measure):(n=e>i.current?i.dim.win-(i.dim.position+i.dim.measure):-1*i.dim.position,o=1),t.style.transform=a+"("+n+"px)",r.style.transform=s+"("+o+")"}})),this.extraEl&&(this.extraEl.style.transform=a+"("+("vertical"===this.options.layout?this.dim.win-(this.dim.position+this.dim.measure):-1*this.dim.position)+"px)")}},t.TabsNav=a}(window);